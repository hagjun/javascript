<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>
<!-- 
	fetch() : 네트워크의 리소스를 쉽게 비동기적으로 취득할 수도 있습니다.
	          요청과 응답 등의 요소를 JavaScript에서 접근하고 조작할 수 있는 인터페이스를 제공.
	          ** 서버로 부터 자원을 받아서 반환함 = response
	          status:200 서버 성공(정보를 잘 가지고 옴)
	                :400 클라이언트가 잘못됨
                    :500 서버가 잘못됨 	          
-->
<script type="text/javascript">
	/*
	const myPromise = fetch('https://jsonplaceholder.typicode.com/todos?_limit=5');
	
	myPromise
	.then((response)=>{
		console.log('response : ', response);
	})
	.catch((err)=>{
		console.log('err : ', err);
	})
	*/
	
	fetch('https://jsonplaceholder.typicode.com/todos?_limit=5')
	.then((response)=>{// 인자 상관있음
		// console.log('response : ', response);
		// 성공해서 가져온 response이 json이므로 response.json() 처리하면 
		// json() 형식의 데이터도 처리할 수 있다. 
		return response.json();
	})
	.then((data)=>{// 인자 상관없음
		// 첫번째 then에서 return한 정보를 받아서 처리할 수 있다. (체이닝 방식 : 위에께 자연스럽게 내려올 수 있다.)
		// data란 위에서 넘어온 response.json()을 뜻한다.
		console.log('data : ', data);
		// filter : 하나씩 걸러낸다
		// 하나씩 넘어온게 obj
		// data는 배열로 되어있다.
		// 넘어온 배열을 하나씩 검사해서 id가 3을 초과한 데이터만 return 하자.
		return data.filter(obj => obj.id>3);
	})
	.then((result)=>{// 인자 상관없음
		// 위에 then에서 return한 id가 3초과한 데이터 => result
		console.log('result : ', result);
	})
	.catch(err=>console.log('err : ', err))
	.finally(()=>{console.log('finally!!')})
		
</script>
</body>
</html>